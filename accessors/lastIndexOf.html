<script src="../simpletest.js"></script>
<script>
  // FUNCTION SIGNATURE
  //     lastIndexOf(array, searchElement[, fromIndex])

  // PARAMETERS
  //     searchElement: to locate in the array
  //     fromIndex - optional: the index to start the search at

  // RETURN VALUE
  //     returns an index
  //     returns -1 if no such index was found

  /* APPLICATION CODE */
  function lastIndexOf(array, searchElement, fromIndex) {
    const length = array.length;
    let searchStartingIndex = length - 1;

    if (length === 0 || !searchElement) {
      return -1;
    }

    if (!fromIndex) {
      searchStartingIndex = length - 1;
    }

    if (fromIndex) {
      searchStartingIndex = fromIndex;
    }

    for (let i = searchStartingIndex; i < length; i--) {
      if (array[i] === searchElement) {
        return i;
      }
    }
  }

  /* TESTING CODE */
  tests({
    '01. If array is empty, it should return -1.': function() {
      const result = lastIndexOf([]);
      eq(result, -1);
    },

    '02. If no searchElement, it should return -1.': function() {
      const result = lastIndexOf(['apple', 'orange']);
      eq(result, -1);
    },

    '03. It should return only the last index at which the element is equal to searchElement.': function() {
      const result = lastIndexOf(['apple', 'orange', 'orange'], 'orange');
      eq(result === 1, false);
      eq(result, 2);
    },

    '04. If no fromIndex, it should start searching with the last element in the array.': function() {
      const result = lastIndexOf(['apple', 'orange', 'orange'], 'orange');
      eq(result, 2);
    },

    '05. If fromIndex, it should start searching at the given fromIndex backwards.': function() {
      const result = lastIndexOf(['apple', 'orange', 'orange'], 'orange', 1);
      eq(result, 1);
    },

    '06. If fromIndex = 0 and array[0] is not equal to searchElement, it should return -1.': function() {
      // debugger;
      const result = lastIndexOf(['apple', 'orange', 'orange'], 'orange', 0);
      eq(result, -1);
    },

    // '06. If fromIndex < 0 and (array + fromIndex) > 0, it should start searching at array[array.length + fromIndex].': function() {},

    // '07. If fromIndex < 0 and array.length + fromIndex < 0, it should return -1.': function() {},

    // '08. If fromIndex >= array.length, it should start searching with the last element in the array.': function() {},

    // '09. It should be able to search for objects in the array.': function() {},

    // '10. It should compares searchElement to elements of the array using strict equality.': function() {},

    // '11. It should not skip holes.': function() {},

    // '12. If no index was found, it should return -1.': function() {},

    // '13. If should not modify the array.': function() {},
  });
</script>
